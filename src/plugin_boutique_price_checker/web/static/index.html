<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Plugin Boutique Tracker</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <div class="bg-shape bg-shape-a"></div>
  <div class="bg-shape bg-shape-b"></div>
  <main class="shell">
    <header class="hero">
      <p class="eyebrow">Deployable Dashboard</p>
      <h1>Plugin Boutique Price Tracker</h1>
      <p class="subtitle">Manage users, watchlist items, and price checks from one page.</p>
    </header>

    <section class="grid">
      <article class="card">
        <h2>Register (Email + Phone 2FA)</h2>
        <form id="register-start-form" class="stack">
          <label for="register-email">Email</label>
          <input id="register-email" name="email" type="email" placeholder="you@example.com" required>
          <label for="register-phone">Phone</label>
          <input id="register-phone" name="phone_number" type="tel" placeholder="+15551234567" required>
          <button type="submit">Start Registration</button>
        </form>
        <form id="verify-email-form" class="stack top-gap">
          <label for="email-code">Email Code</label>
          <input id="email-code" name="code" type="text" placeholder="6-digit code" required>
          <button type="submit">Verify Email</button>
        </form>
        <form id="verify-phone-form" class="stack top-gap">
          <label for="phone-code">Phone Code</label>
          <input id="phone-code" name="code" type="text" placeholder="6-digit code" required>
          <button type="submit">Verify Phone & Sign In</button>
        </form>
      </article>

      <article class="card">
        <h2>Sign In</h2>
        <div class="stack">
          <form id="login-start-form" class="stack">
            <label for="login-email">Email</label>
            <input id="login-email" name="email" type="email" placeholder="you@example.com" required>
            <button type="submit">Send Login Code</button>
          </form>
          <form id="login-verify-form" class="stack top-gap">
            <label for="login-code">Login Code</label>
            <input id="login-code" name="code" type="text" placeholder="6-digit code" required>
            <button type="submit">Verify Login</button>
          </form>
          <button id="logout-button" type="button" class="button-subtle">Logout</button>
          <p id="auth-status" class="muted">Not authenticated.</p>
          <p id="auth-dev-code" class="muted"></p>
        </div>
      </article>

      <article class="card wide">
        <h2>Add Watchlist Item</h2>
        <form id="create-item-form" class="inline-form">
          <input id="product-url" name="product_url" type="url" placeholder="Product URL" required>
          <input id="threshold" name="threshold" type="number" step="0.01" min="0.01" placeholder="Threshold" required>
          <button type="submit">Add Item</button>
        </form>
      </article>

      <article class="card wide">
        <div class="row-between">
          <h2>Watchlist Items</h2>
          <button id="refresh-items-button" type="button" class="button-subtle">Refresh</button>
        </div>
        <div id="items-container" class="items"></div>
      </article>

      <article class="card wide">
        <h2>Run History</h2>
        <p id="runs-hint" class="muted">Choose "Show Runs" on an item to load history.</p>
        <div id="runs-container" class="runs"></div>
      </article>
    </section>

    <aside id="status" class="status"></aside>
  </main>

  <script src="/static/app.js"></script>
</body>
</html>
